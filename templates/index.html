<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrainMaster</title>
    <link rel="stylesheet" href="/static/css/global.css">
</head>

<script src="/static/jquery/jquery.min.js"></script>
<script src="/static/jquery/jquery-ui.js"></script>

<body>
    <div class="main">
        <div class="top-bar dragable">
            <div class="left-panel">
                <img src="/static/img/icon.png" class="logo dragable">
                <div class="menu">
                    <div class="item">File
                        <div class="menu-item">
                            <div class="section">
                                <div class="item"><div class="text">New Text File</div><div class="shortcut">Ctrl+N</div></div>
                                <div class="item"><div class="text">New Window</div><div class="shortcut">Ctrl+Shift+N</div></div>
                            </div>
                            <div class="section">
                                <div class="item"><div class="text">Open File...</div><div class="shortcut">Ctrl+O</div></div>
                                <div class="item"><div class="text">Recently Opened</div></div>
                            </div>
                            <div class="section">
                                <div class="item"><div class="text">Save</div><div class="shortcut">Ctrl+S</div></div>
                                <div class="item"><div class="text">Save As...</div><div class="shortcut">Ctrl+Shift+S</div></div>
                            </div>
                            <div class="section">
                                <div class="item"><div class="text">Exit</div></div>
                            </div>
                        </div>
                    </div>
                    <div class="item">Run
                        <div class="menu-item">
                            <div class="item"><div class="text">Start Debugging</div><div class="shortcut">F5</div></div>
                            <div class="item"><div class="text">Run Only</div><div class="shortcut">Ctrl+F5</div></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="title-panel dragable"><div class="title dragable">
                MindMaster
            </div></div>
            <div class="right-panel">
                <div class="window-control">
                    <div class="close-btn btn" id="close_btn">
                        <img src="/static/img/close.svg">
                    </div>
                    <div class="maximize-btn btn" id="maximize_btn" style="display: {% if maximize %}flex{% else %}none{% endif %}">
                        <img src="/static/img/maximize.svg">
                    </div>
                    <div class="restore-down-btn btn" id="restore-down_btn" style="display: {% if maximize %}none{% else %}flex{% endif %}">
                        <img src="/static/img/restore-down.svg">
                    </div>
                    <div class="minimize-btn btn" id="minimize_btn">
                        <img src="/static/img/minimize.svg">
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-bar">
            <div class="tab">
                <img src="/static/img/bf-logo.png" class="img">
                <div class="title">hello world.bf</div>
                <div class="close-win-btn btn" id="close_btn">
                    <img src="/static/img/close.svg">
                </div>
            </div>
        </div>
        <div class="editor">
            <div class="window">
                <div class="numbers">
                    <div class="line">1</div>
                    <div class="line selected">2</div>
                    <div class="line">3</div>
                    <div class="line">4</div>
                    <div class="line">5</div>
                    <div class="line">6</div>
                    <div class="line">7</div>
                    <div class="line">8</div>
                    <div class="line">9</div>
                    <div class="line">10</div>
                    <div class="line">11</div>
                    <div class="line">12</div>
                    <div class="line">13</div>
                    <div class="line">14</div>
                    <div class="line">15</div>
                    <div class="line">16</div>
                    <div class="line">17</div>
                    <div class="line">18</div>
                    <div class="line">19</div>
                    <div class="line">20</div>
                    <div class="line">21</div>
                    <div class="line">22</div>
                    <div class="line">23</div>
                    <div class="line">24</div>
                    <div class="line">25</div>
                    <div class="line">26</div>
                    <div class="line">27</div>
                </div>
                <div class="code">
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span><span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line selected">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                    <div class="line">
                        <span>h</span><span>e</span><span>l</span><span>l</span><span>o</span>
                    </div>
                </div>
            </div>
            <div class="scrollbar vertical">
                <div class="thumb"></div>
            </div>
            <div class="scrollbar horizontal">
                <div class="thumb"></div>
            </div>
        </div>
        <div class="home-page">
            <div class="dialog">
                <img src="/static/img/icon.png">
                <h1>MindMaster</h1>
                <a href="#" id="create_tab">create new file</a>
            </div>
        </div>
    </div>
</body>
<script>
    $(".editor").on('mousewheel DOMMouseScroll', function(event) {
        var delta = event.originalEvent.wheelDelta || -event.originalEvent.detail;
        var scrollAmount = (delta > 0 ? 1 : -1) * 50;
        if (event.shiftKey){
            var available_space = editorAvailableScrollLeft()
            var scroll = 0
            if (scrollAmount > 0){
                scroll = (available_space[0] + (scrollAmount * -1)) * -1
                scroll = (scroll < 0) ? scroll : 0
            }else{
                scroll = available_space[1] + scrollAmount
                scroll = (scroll >= 0) ? (editorGetScrollLeft() * -1) + scrollAmount : (editorGetScrollLeft() + available_space[1]) * -1
            }
            editorScrollLeft((scroll * -1))
        }else{
            var available_space = editorAvailableScrollTop()
            var scroll = 0
            if (scrollAmount > 0){
                scroll = (available_space[0] + (scrollAmount * -1)) * -1
                scroll = (scroll < 0) ? scroll : 0
            }else{
                scroll = available_space[1] + scrollAmount
                scroll = (scroll >= 0) ? (editorGetScrollTop() * -1) + scrollAmount : (editorGetScrollTop() + available_space[1]) * -1
            }
            editorScrollTop((scroll * -1))
        }
        update_scrollbars()
    });
</script>
<script src="/static/js/global.js"></script>

</html>